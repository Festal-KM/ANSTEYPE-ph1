<div fxLayout="column" *ngIf="dto">
    <label>下記内容で登録します。</label>

    <div class="flex">
        <label class="row-flex-1 text-right">件名:</label>
        <span class="row-flex-2">{{ dto.subject }}</span>
    </div>
    <div class="flex">
        <label class="row-flex-1 text-right">代理店名:</label>
        <span class="row-flex-2">{{ dto.agent.label }}</span>
    </div>
    <div class="flex">
        <label class="row-flex-1 text-right">請求総額（税込）:</label>
        <span class="row-flex-2">{{ dto.totalAmount | currency : "JPY" }}</span>
    </div>
</div>

<p-table *ngIf="dto" [value]="dto.products" [responsiveLayout]="'scroll'" class="custom-table">
    <ng-template pTemplate="header">
        <tr>
            <th>開催日</th>
            <th>店舗</th>
            <th>品目名</th>
            <th>単価</th>
            <th>数（回）</th>
            <th>金額</th>
            <th>非課税</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr>
            <td>{{ item.implementationSchedule }}</td>
            <td>{{ item.store.label }}</td>
            <td>{{ item.itemName }}</td>
            <td>{{ item.unitPrice | currency : "JPY" }}</td>
            <td>{{ item.count | number }}</td>
            <td>{{ item.amount | currency : "JPY" }}</td>
            <td>{{ item.noTax ? '非課税' : '課税'}}</td>
        </tr>
    </ng-template>
</p-table>

<!-- Footer -->
<div class="footer actions-section-end">
    <button pButton type="button" label="記録" icon="pi pi-save" (click)="onSave()"></button>
</div>